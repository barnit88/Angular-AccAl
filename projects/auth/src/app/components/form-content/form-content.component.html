<div
  class="bg-white border flex-row border-[#B8B8D3] rounded-xl px-6 pt-8 min-h-[600px] sm:w-full lg:w-[450px] justify-center"
>
  <div>
    <button
      [disabled]="googleLoading"
      (click)="socialLogin('google')"
      class="flex items-center px-4 py-2 w-full h-12 font-semibold mb-5 text-white bg-[#2852E7] rounded-xl hover:bg-opacity-80"
    >
      <img src="assets/google.svg" height="30" width="30" />
      <span class="lg:ml-10 ml-10 font-['Inter'] lg:text-lg text-sm font-bold tracking-wide">Continue with Google</span>
    </button>
  </div>
  <div>
    <button
      [disabled]="microsoftLoading"
      (click)="socialLogin('microsoft')"
      class="flex items-center px-4 py-2 w-full h-12 font-semibold mb-5 text-white bg-[#383838] rounded-xl hover:bg-opacity-80"
    >
      <img src="assets/microsoft.svg" height="30" width="30" />
      <span class="lg:ml-10 ml-10 font-['Inter'] md:text-lg text-sm font-bold tracking-wide"
        >Continue with Microsoft</span
      >
    </button>
  </div>

  <!-- okta login hidden for now, enable when backend ready-->
  <!-- <div>
    <button
      class="flex items-center px-4 py-2 w-full h-12 font-semibold text-white bg-[#E8DCC7] rounded-xl hover:bg-opacity-70"
    >
      <img src="assets/okta.svg" height="30" width="30" />
      <span class="ml-20 font-['Inter'] text-lg font-bold tracking-wide text-black">Continue with Okta</span>
    </button>
  </div> -->

  <div class="flex mt-6">
    <div class="w-[40%] h-1 border-t-2 border-[#C1C0C3] border-opacity-90 mx-auto"></div>
    <div class="text-[#79767D] font-['Inter'] -mt-3 font-bold">OR</div>
    <div class="w-[40%] h-1 border-t-2 border-[#C1C0C3] border-opacity-90 mx-auto"></div>
  </div>

  <ng-template [ngIf]="!isPasswordReset">
    <form [formGroup]="loginForm">
      <div class="mt-4">
        <label class="font-['Inter'] ml-2 font-medium">Email<span class="text-red-600">*</span></label>
        <input
          formControlName="email"
          placeholder="Work Email"
          type="text"
          class="block p-2.5 mt-2 mb-3 w-full text-sm text-gray-900 rounded-lg border-[1.5px] border-[#B8B8D3]"
        />
        <label class="font-['Inter'] ml-2 font-medium">Password<span class="text-red-600">*</span></label>
        <input
          formControlName="password"
          placeholder="Password"
          type="password"
          minlength="6"
          class="block p-2.5 mt-2 w-full text-sm text-gray-900 rounded-lg border-[1.5px] border-[#B8B8D3]"
        />
      </div>

      <!-- justify-between when remember me is activated-->
      <div *ngIf="state === 'login'" class="mt-2 flex justify-end font-['Inter']">
        <!--TO DO: Complete remember me check/uncheck with cookies on local store-->
        <div [hidden]="true">
          <input
            formControlName="rememberMe"
            type="checkbox"
            class="text-primary-500 border-1 border-primary-300 rounded focus:ring-0"
          />
          <span class="font-['Inter'] text-sm ml-2">Remember Me</span>
        </div>
        <div
          class="font-['Inter'] text-xs font-medium mt-1 text-primary-500 cursor-pointer hover:underline"
          routerLinkActive="router-link-active"
          (click)="onPasswordReset($event)"
        >
          Forgot Password?
        </div>
      </div>

      <div>
        <button
          [disabled]="!loginForm.valid"
          (click)="onSubmit()"
          [ngClass]="!loginForm.valid ? 'opacity-50 cursor-not-allowed hover:opacity-50' : ''"
          class="mt-5 font-['Inter'] items-center w-full h-12 tracking-wide text-lg font-bold text-white bg-primary-500 rounded-xl hover:opacity-90"
        >
          <span *ngIf="!loading"> {{ state === 'login' ? 'Log in' : 'Get Started Free' }} </span>

          <span class="h-4 py-2 inline-flex items-center align-middle justify-center" *ngIf="loading">
            <img width="35px" heigh="15px" src="assets/loader-white.svg" />
          </span>
        </button>
      </div>
    </form>

    <div
      *ngIf="state === 'login'"
      (click)="toRegister()"
      class="font-['Inter'] flex justify-center text-sm mt-4 text-primary-500 font-medium cursor-pointer tracking-wide hover:underline"
    >
      <p>Donâ€™t have an AccAlly account yet? Sign Up</p>
    </div>

    <div
      *ngIf="state === 'register'"
      (click)="toLogin()"
      class="font-['Inter'] flex justify-center text-sm mt-4 text-primary-500 font-medium cursor-pointer tracking-wide hover:underline"
    >
      <p>Already have an account? Log in</p>
    </div>

    <div
      *ngIf="state === 'register'"
      class="font-['Inter'] flex items-center justify-center text-xs mt-4 pb-10 text-black font-medium cursor-pointer tracking-wide"
    >
      <p class="w-full sm:w-full lg:w-full text-center">
        By creating an account, you agree to our
        <span (click)="openTos()" class="text-primary-500 hover:underline">Terms of Service</span> <br />
        and <span (click)="openPrivacy()" class="text-primary-500 hover:underline"> Privacy Policy</span>.
      </p>
    </div>
  </ng-template>

  <ng-template [ngIf]="isPasswordReset">
    <form [formGroup]="passwordResetForm">
      <div class="mt-4">
        <label class="font-['Inter'] ml-2 font-medium">Email<span class="text-red-600">*</span></label>
        <input
          formControlName="email"
          placeholder="Email"
          type="text"
          class="block p-2.5 mt-2 mb-3 w-full text-sm text-gray-900 rounded-lg border-[1.5px] border-[#B8B8D3]"
        />
      </div>

      <div>
        <button
          [disabled]="!passwordResetForm.valid"
          (click)="resetPassword()"
          [ngClass]="!passwordResetForm.valid ? 'opacity-50 cursor-not-allowed hover:opacity-50' : ''"
          class="mt-5 font-['Inter'] items-center w-full h-12 tracking-wide text-lg font-bold text-white bg-primary-500 rounded-xl hover:opacity-90"
        >
          <span *ngIf="!loading"> Reset Password </span>
        </button>
      </div>
    </form>

    <div
      (click)="onProceedToLogin($event)"
      class="font-['Inter'] flex justify-center text-sm mt-4 text-primary-500 font-medium cursor-pointer tracking-wide hover:underline"
    >
      <p>Proceed To Login</p>
    </div>
  </ng-template>
</div>
